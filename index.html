<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Phish Show Rater</title>
<style>
body {
background-color: #000;
color: #0f0;
font-family: 'Courier New', Courier, monospace;
margin: 0;
padding: 20px;
}
.terminal {
max-width: 1000px;
margin: auto;
border: 2px solid #0f0;
padding: 20px;
background-color: #111;
}
h1 {
text-align: center;
margin-bottom: 5px;
}
.terminal-section {
margin-bottom: 30px;
}
table {
width: 100%;
border-collapse: collapse;
margin-top: 10px;
}
th, td {
border: 1px solid #0f0;
padding: 8px;
text-align: left;
}
select, textarea, input {
background-color: #000;
color: #0f0;
border: 1px solid #0f0;
font-family: inherit;
width: 100%;
}
button {
background-color: #000;
color: #0f0;
border: 2px solid #0f0;
padding: 10px 20px;
font-family: inherit;
cursor: pointer;
margin-top: 10px;
}
label {
display: block;
margin-top: 10px;
}
.instructions {
border: 1px dashed #0f0;
padding: 10px;
margin-bottom: 30px;
}
</style>
</head>
<body>
<div class="terminal">
<h1>Phish Show Rater</h1>
<p><strong>[SYS_MSG]</strong> Don't Suck at Phish</p>

<div class="instructions">
  <h2>üìã Instructions</h2>
  <ol>
    <li>Select a show date from the dropdown.</li>
    <li>Click <strong>Load Setlist</strong> to fetch real data.</li>
    <li>Rate each song using the dropdown (1‚Äì5).</li>
    <li>Add personal notes for standout moments.</li>
    <li>Reflect, revise, and remember: Don‚Äôt Suck at Phish.</li>
  </ol>
</div>

<label for="showdate">Select a Show Date:</label>
<select id="showdate">
  <option value="">-- Choose a date --</option>
  <option value="2023-07-28">2023-07-28 ‚Äì MSG</option>
  <option value="2022-08-05">2022-08-05 ‚Äì Atlantic City</option>
  <option value="2015-08-22">2015-08-22 ‚Äì Magnaball</option>
  <option value="1997-12-11">1997-12-11 ‚Äì Rochester</option>
  <option value="1994-06-17">1994-06-17 ‚Äì Milwaukee</option>
  <option value="1993-08-13">1993-08-13 ‚Äì Indianapolis</option>
</select>
<button onclick="loadShow()">Load Setlist</button>

<div id="show-details" class="terminal-section"></div>
<div id="show-notes" class="terminal-section"></div>
<div id="rating-guide" class="terminal-section"></div>
<div id="setlist-table" class="terminal-section"></div>

</div>

<script>
const apiKey = "10645D7F59011FFA82A";

async function loadShow() {
  const date = document.getElementById("showdate").value;
  if (!date) return alert("Please select a show date.");

  const url = `https://api.phish.net/v3/setlists?apikey=${apiKey}&showdate=${date}`;

  try {
    const response = await fetch(url);
    const result = await response.json();

    if (!result.data || result.data.length === 0) {
      document.getElementById("show-details").innerHTML = "<p>No show found for that date.</p>";
      document.getElementById("show-notes").innerHTML = "";
      document.getElementById("rating-guide").innerHTML = "";
      document.getElementById("setlist-table").innerHTML = "";
      return;
    }

    const show = result.data[0];
    const setlistdata = show.setlistdata || [];

    // Show Details
    document.getElementById("show-details").innerHTML = `
      <h2>üìÖ Show Details</h2>
      <p><strong>Date:</strong> ${show.showdate}</p>
      <p><strong>Venue:</strong> ${show.venue}</p>
      <p><strong>Location:</strong> ${show.city}, ${show.state}, ${show.country}</p>
      <p><strong>Song Count:</strong> ${setlistdata.length}</p>
    `;

    // Show Notes
    document.getElementById("show-notes").innerHTML = `
      <h2>üìù Show Notes</h2>
      <p>${show.setlistnotes || "No notes available."}</p>
    `;

    // Rating Guide
    document.getElementById("rating-guide").innerHTML = `
      <h2>üéöÔ∏è Rating Guide</h2>
      <ul>
        <li><strong>5:</strong> Legendary performance</li>
        <li><strong>4:</strong> Must-hear version</li>
        <li><strong>3:</strong> Solid, above average</li>
        <li><strong>2:</strong> Standard, nothing special</li>
        <li><strong>1:</strong> Below average or flubbed</li>
      </ul>
    `;

    // Setlist Table
    let tableHTML = `
      <h2>üé∂ Setlist Ratings</h2>
      <table>
        <thead>
          <tr>
            <th>Set</th>
            <th>Song</th>
            <th>Position</th>
            <th>Jam Chart</th>
            <th>Gap</th>
            <th>Rating</th>
            <th>Notes</th>
          </tr>
        </thead>
        <tbody>
    `;

    setlistdata.forEach((song, index) => {
      tableHTML += `
        <tr>
          <td>${song.set}</td>
          <td>${song.song}</td>
          <td>${song.position}</td>
          <td>${song.jamchartflag ? "‚úÖ" : ""}</td>
          <td>${song.gap}</td>
          <td>
            <select id="rating-${index}">
              <option value="">--</option>
              <option value="5">5</option>
              <option value="4">4</option>
              <option value="3">3</option>
              <option value="2">2</option>
              <option value="1">1</option>
            </select>
          </td>
          <td><textarea id="notes-${index}" rows="1"></textarea

